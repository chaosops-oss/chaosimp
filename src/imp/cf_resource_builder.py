import troposphere.ssm as ssm
import troposphere.fis as fis


def build_ssm_document(name, ssm_content):
    doc = ssm.Document(name)

    doc.DocumentType = "Command"
    doc.Content = ssm_content

    return doc


def build_fis_template(name, role_arn, targets):
    print(targets)
    doc = fis.ExperimentTemplate(name)

    doc.description = "Template generated by Imp CLI."
    doc.roleArn = role_arn
    doc.stopConditions = []
    doc.tags = {}
    doc.targets = {t["name"]: build_fis_target(t) for t in targets if "name" in t}

    return doc


def build_fis_target(target):
    return {}
